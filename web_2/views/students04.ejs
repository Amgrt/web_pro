<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>这是ejs模板</title>
        <link rel="stylesheet" href="../css/index.css">
        <style>
            table {
                border-collapse: collapse;
                width: 100%;
            }

            th,
            td {
                border: 1px #000 solid;
                font-size: 20px;
                padding: 10px;
                text-align: center;
            }

            caption {
                font-size: 25px;
                font-weight: bold;
            }
            img {
                width: 50px;
                height: 50px;
            }
        </style>
    </head>
    <body>
        <!--  显示当前用户  -->
        <h2>当前用户：<%=loginUserName %></h2>

        <!--  添加 “登出”功能 ，添加登出 路由。-->
        <a href="/stus/students/logout">登出</a>

        <a href="/movs/movies">电影列表</a>
        
        <hr />
        <% if(stus && stus.length > 0) { %>
            
        <table>
            <caption>
                学生列表
            </caption>
            <thead>
                <tr>
                    <th>学号</th>
                    <th>姓名</th>
                    <th>年龄</th>
                    <th>性别</th>
                    <th>地址</th>
                    <th>头像</th>
                    <th>操作</th>
                </tr>
            </thead>

            <tbody>
                <% for(const stu of stus){ %>
                <tr>
                    <td><%=stu.id%></td>
                    <td><%=stu.name %></td>
                    <td><%=stu.age %></td>
                    <td><%=stu.gender %></td>
                    <td><%=stu.address %></td>
                    <td><img src="<%=stu.imgUrl %>" alt="头像"></td>
                    <td>                       
                        <a
                            onclick="return confirm('确认删除吗？')"
                            href="/stus/students/delete/<%= stu.id %>"
                            >删除</a
                        >
                        <a href="/stus/students/<%=stu.id%>">修改</a>
                    </td>
                </tr>
                <% }%>
            </tbody>
        </table>

        <%}
        else{                      
            %><p>学生列表为空！</p><%
        }%>

        <hr />

        <form action="/stus/students" method="post">

            <div>姓名：<input type="text" name="name" /></div>

            <div>密码：<input type="password" name="pwd" /></div>

            <div>
                年龄：<input type="number" max="150" min="0" name="age" />
            </div>
            
            <div>
                性别：<input type="radio" name="gender" value="男" /> 男
                <input type="radio" name="gender" value="女" /> 女
            </div>

            <div>地址：<input type="text" name="address" /></div>

            <div>
                <button>添加</button>
            </div>
        </form>

    </body>
</html>
